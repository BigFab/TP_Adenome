---
title: "Projet Adenome"
author: "Zineb Bennis & Fabrice Sougey"
date: "December 4, 2017"
output:
  html_document:
    df_print: paged
  pdf_document: default
---

```{r setup,echo=FALSE}
setwd("/home/sougeyf/TP_Adenome")
```

#
# Cleanup & Data Preparation
#

```{r cleanup,echo=FALSE}
# Les fichiers ont été transformés et nettoyés en CSV avant import dans R

vapor<-read.csv(file = "datasets/VAPOR.csv", sep = ",")

# Cast des variables booléennes
vapor$Comorbidite<-as.logical(vapor$Comorbidite)
vapor$Porteur_Sonde<-as.logical(vapor$Porteur_Sonde)
vapor$Evenement<-as.logical(vapor$Evenement)
vapor$Transfusion<-as.logical(vapor$Transfusion)
vapor$Caillotage<-as.logical(vapor$Caillotage)
vapor$Reprise_Bloc<-as.logical(vapor$Reprise_Bloc)

# Cast des variables catégoriques
vapor$Indication<-as.factor(vapor$Indication)
vapor$Anesthesie<-as.factor(vapor$Anesthesie)
vapor$Evenement<-as.factor(vapor$Evenement)
vapor$Technique<-as.factor(vapor$Technique)

# Cast des variables catégoriques ordonnées
vapor$QoL<-as.ordered(vapor$QoL)

# 20 premières colonnes du dataset -> pré-opératoire
vapor_pre<-vapor[,1:20]

# Dernières colonnes du dataset -> post-opératoire
vapor_post<-vapor[,21:41]

#
# Analyse Exploratoire de Vapor
#
# Boxplots des variables numériques et barplots des variables catégoriques
par(mfrow = c(1,1))
for (i in 1:ncol(vapor_pre)) {
  #x11(display="")
  if (is.numeric(vapor_pre[,i]) || is.integer(vapor_pre[,i]))
    boxplot(vapor_pre[,i])
  else
    barplot(table(vapor_pre[,i]))
  title(colnames(vapor_pre)[i])
}
#
```
